<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>numpy</title>
  <meta name="description" content="">
  
  <meta name="author" content="Manjoong Kim">
  <meta name="copyright" content="&copy; Manjoong Kim 2020">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="" />
  <meta property="og:url" content="http://localhost:4000/python/2020/09/21/python-5.html">
  <meta property="og:site_name" content="RWDR" />
  <meta property="og:title" content="numpy" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/RWDR.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="numpy">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="http://localhost:4000/assets/RWDR.png">
  <meta name="twitter:url" content="http://localhost:4000/python/2020/09/21/python-5.html">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/python/2020/09/21/python-5.html">
	<link rel="alternate" type="application/rss+xml" title="RWDR" href="http://localhost:4000/feed.xml" />
	
	<!-- Tooltips -->
	<script type="text/javascript">
		window.tooltips = []
	</script>
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/RWDR.png" alt="RWDR">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
				
	
	<li class="nav-link"><a href="/about/">About</a>
	

	

	

	
	<li class="nav-link"><a href="/posts/">Posts</a>
	

	

	
	<li class="nav-link"><a href="/search/">Search</a>
	

	
	<li class="nav-link"><a href="/typography/">Plan</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	


      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container " >
  <div class="scrim ">
    <header class="post-header">
      <h1 class="title">numpy</h1>
      <p class="info">by <strong>Kim</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">

 <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 

<section class="post-meta">
  <div class="post-date">September 21, 2020</div>
  <div class="post-categories">
  in 
    
    <a href="/category/python">Python</a>
    
  
  </div>
</section>

<article class="post-content">
  <script type="text/javascript" async="" src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<h2 id="목차">목차</h2>

<ul>
  <li><a href="#numpy">numpy</a></li>
  <li><a href="#arr">배열(array)</a>
    <ul>
      <li><a href="#broadcast">Broadcast</a></li>
      <li><a href="#transpose">Transpose(전치)</a></li>
      <li><a href="#asarray">asarray(얕은 복사)</a></li>
      <li><a href="#astype">astype(형 변환)</a></li>
      <li><a href="#산술연산-함수">배열에 대한 산술연산</a></li>
      <li><a href="#누적-산술연산">누적 산술연산</a></li>
      <li><a href="#최댓-최솟값">최대 최솟값</a></li>
      <li><a href="#조건-색인">조건 색인(boolean indexing)</a></li>
      <li><a href="#집합-연산자">집합 연산자</a></li>
      <li><a href="#nan">NaN</a></li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><code class="highlighter-rouge">Part 2</code>에서는 본격적으로 numpy와 pandas 등 데이터 분석 모델에 직접 넣을 데이터 셋을 다룰 것입니다.</p>

<p><br /></p>

<hr />

<h2 id="numpy">numpy</h2>

<p><code class="highlighter-rouge">numpy</code>는 다차원 배열 생성 및 연산을 위한 패키지(모듈)로 딥러닝에 많이 쓰이는 자료 구조인 <code class="highlighter-rouge">배열(array)</code>가 내장되어 있습니다.</p>

<p>​</p>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span></code></pre></figure>

<p><br />
<br /></p>

<h2 id="arr">배열 (array)</h2>

<ul>
  <li>
    <p>다차원 구조</p>
  </li>
  <li>
    <p>동일한 데이터 타입만 허용</p>
  </li>
  <li>
    <p>딥러닝(neural + lots of hidden layers)에 많이 쓰이는 구조</p>
  </li>
</ul>

<p>​</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{bmatrix}
a & b\\c & d
\end{bmatrix} %]]></script>

<p>1. 생성</p>

<table>
  <thead>
    <tr>
      <th>입력</th>
      <th>출력 값</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>a1 = np.arange(1,10)</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & ... & 9\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a2 = np.arange(1,19, dtype = ‘float’)</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1. & ... & 18.\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a3 = np.array([1, 2, 3, 4])</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2 & 3 & 4\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a4 = np.array([[1,2],[3,4]])</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2\\3 & 4\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>arr1 = np.random.randn(5,4)</td>
      <td>랜덤으로(random) 표준 정규분포(N(0,1))를 따르는 난수 생성 (5x4 size)</td>
    </tr>
  </tbody>
</table>

<p>​</p>

<p>​</p>

<p>2. 주요 메소드 <strong>(암기!!)</strong></p>

<table>
  <thead>
    <tr>
      <th>메소드</th>
      <th>설명</th>
      <th>출력 값</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>a1.dtype</td>
      <td>a1를 구성하는 데이터 타입</td>
      <td>dtype(‘int32’)</td>
    </tr>
    <tr>
      <td>a1.shape</td>
      <td>a1의 사이즈(행 x 열)</td>
      <td>(9,)</td>
    </tr>
    <tr>
      <td>a1.reshape(3,3)</td>
      <td>a1의 사이즈 변경</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2 & 3\\4 & 5 & 6\\7 & 8 & 9\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a2.reshape(2,3,3)</td>
      <td>a2의 [층, 행, 열] 변경</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}\begin{bmatrix} 1  &  2  &  3 \\ 4  &  5  &  6 \\7 & 8 & 9\end{bmatrix}\\\begin{bmatrix}10 & 11 & 12\\13 & 14 & 15\\16 & 17 & 18\end{bmatrix}\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a2.reshape(2,3,3).ndim</td>
      <td>차원의 갯수를 알려줌</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<p>3. 연산</p>

<p>a5 = np.array([10,20,30,40]).reshape(2,2)</p>

<p>a6 = np.array([10,20])</p>

<table>
  <thead>
    <tr>
      <th>​연산</th>
      <th style="text-align: left">설명</th>
      <th>출력</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>a4 + 1</td>
      <td style="text-align: left">스칼라 연산</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2\\3 & 4\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a4 + a5</td>
      <td style="text-align: left">서로 같은 크기를 갖는 배열끼리 연산 가능</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}11 & 22\\33 & 44\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>a4 + a6</td>
      <td style="text-align: left">서로 다른 크기를 갖는 배열과 연산 가능</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}11 & 22\\13 & 24\end{bmatrix} %]]></script></td>
    </tr>
  </tbody>
</table>

<p>​<br /></p>

<h3 id="broadcast">Broadcast</h3>

<p>: 배열에서는 반복연산으로 연산하고자 하는 두 배열의 크기가 다르더라도 연산이 되게 하는데 이를 Broadcast라고 합니다. 함수를 따로 사용하는 것은 아니고 아래 조건을 충족시키면 연산이 실행됩니다.</p>

<p>Broadcast가 실행되기 위해 두 배열이 만족해야할 조건</p>

<ol>
  <li>
    <p>양쪽 배열에 크기를 나타내는 숫자가 동일해야합니다.</p>
  </li>
  <li>
    <p>작은 쪽 배열의 크기를 나타내는 나머지 숫자는 반드시 1.</p>
  </li>
  <li>
    <p>같은 크기의 숫자들은, 같은 방향에 있어야함</p>

    <p>(x, ..) + (x, 1)</p>
  </li>
</ol>

<p>[ 예제 1]</p>

<table>
  <thead>
    <tr>
      <th>입력</th>
      <th>형태</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>arr1 = np.arange(1,9).reshape(2,4)</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2\\3 & 4\\5 & 6\\7 & 8\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>arr2 = np.array([10,20])</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}10 & 20\end{bmatrix} %]]></script></td>
    </tr>
    <tr>
      <td>arr3 = np.array([10,20,30,40]</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}10 & 20 & 30 & 40\end{bmatrix} %]]></script></td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<table>
  <thead>
    <tr>
      <th>연산</th>
      <th>결과</th>
      <th>형태</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>arr1 + arr2</td>
      <td>연산 불가</td>
      <td>(2x4) + (1x2)</td>
    </tr>
    <tr>
      <td>arr1 + arr2.reshape(2,1)</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}11 & 12 & 13 & 14\\25 & 26 & 27 & 28\end{bmatrix} %]]></script></td>
      <td>(2x4) + (2x1)</td>
    </tr>
    <tr>
      <td>arr1 + arr3</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}11 & 12 & 13 & 14\\25 & 26 & 27 & 28\end{bmatrix} %]]></script></td>
      <td>(2x4) + (1x4)</td>
    </tr>
  </tbody>
</table>

<p>​</p>

<p>4. 색인</p>

<p>배열의 색인은 리스트에서의 색인과 달리 여러 컬럼을 리스트 형태로 전달 가능합니다.(벡터 색인) 라벨 인덱싱(label indexing)은 불가능하며 위치로만 색인이 가능합니다.</p>

<p>아래 리스트 및 배열을 이용하여 예시를 살펴봅시다.</p>

<p>L1 = [[1,2,3],[4,5,6],[7,8,9]]</p>

<table>
  <tbody>
    <tr>
      <td>arr1 = np.array(L1)</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9\end{bmatrix} %]]></script></td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<table>
  <thead>
    <tr>
      <th>입력</th>
      <th>결과</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>L1[1,1]</td>
      <td><em>1차원이기 때문에 불가</em></td>
    </tr>
    <tr>
      <td>L1[1][1]</td>
      <td>5</td>
    </tr>
    <tr>
      <td>arr1[1,1]</td>
      <td>5</td>
    </tr>
    <tr>
      <td>arr1[0,]</td>
      <td>[1,2,3] <br /> 열 표시는 생략 가능</td>
    </tr>
    <tr>
      <td>arr1[0,:]</td>
      <td>[1,2,3]</td>
    </tr>
    <tr>
      <td>arr1[,0]</td>
      <td><em>행 표시는 생략 불가</em></td>
    </tr>
    <tr>
      <td>arr1[:,0]</td>
      <td>[1,4,7]</td>
    </tr>
    <tr>
      <td>arr1[[0,2],:]</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}1 & 2 & 3 \\ 7 & 8 & 9\end{bmatrix} %]]></script><br />(벡터 색인)</td>
    </tr>
    <tr>
      <td>arr1[1:3,:]</td>
      <td><script type="math/tex">% <![CDATA[
\begin{bmatrix}4 & 5 & 6 \\ 7 & 8 & 9\end{bmatrix} %]]></script><br />슬라이스 색인 가능</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<p>여러 예시들을 보았으니 반대로 배열 구조를 보고 어떻게 입력해야 나올지 고민해봅시다. 슬라이싱, 벡터 색인 등 다양한 방법이 있으니 여러가지 답안을 머릿속으로 그려보시는 것이 학습에 도움이 됩니다. 문제의 양이 어느 정도 되기 때문에 접기 기능을 이용하였습니다. 문제를 풀어보고 싶은 분은 아래의 문제보기 버튼을 누르시면 됩니다.
​
<br />
<br /></p>

<details>
<summary>문제보기</summary>
<center>[문제 1]</center>

<br />

$$\begin{bmatrix}5 &amp; 6 \\ 8 &amp; 9\end{bmatrix}$$

<br />
<br />

[정답]

<br />

arr1[1:3,1:3]<br />

arr1[[1,2],[1,2]]<br />

arr1[[1,2],1:3]<br />

arr1[[1,2],:][:,[1,2]]<br />

arr1[np.ix_([1,2],[1,2])]
​

<center>[문제 2]</center>

<br />

<center> [4,7] 추출 </center>

<br />
<br />

[정답]

<br />

arr1[1:3,0]<br />

arr1[[1,2],0]<br />

arr1[[1,2],:][:,0]<br />

arr1[:,0][[1,2]]<br />

~~arr1[:,0][[1,2],:] - 불가능, [:,0]이 1차원이기 때문에 뒤 색인도 반드시 1차원~~<br />

​
<br />
<br />

다른 배열 arr2을 이용하여 다른 문제도 풀어봅시다.<br />

<br />

<center>arr2 = np.arange(1,25).reshape(2,3,4) </center>$$\begin{bmatrix}\begin{bmatrix}1 &amp; 2 &amp; 3 &amp; 4\\5 &amp; 6 &amp; 7 &amp; 8\\9 &amp; 10 &amp; 11 &amp; 12\end{bmatrix}\\\begin{bmatrix}13 &amp; 14 &amp; 15 &amp; 16\\17 &amp; 18 &amp; 19 &amp; 20\\21 &amp; 22 &amp; 23 &amp; 24\end{bmatrix}\end{bmatrix}$$


<br />
<center>문제 3</center>

<br />

$$\begin{bmatrix}10 &amp; 11 \\ 14 &amp; 15 \\ 18 &amp; 19 \end{bmatrix}$$

<br />
<br />

[정답]​

<br />

arr2[2:5,1:3]<br />

arr2[[2,3,4],:][:,[1,2]]<br />

arr2[np.ix_([2,3,4],[1,2])]

<br />​
<br />

​<center>문제 4</center>

<br />

<center> [ 6 7 8 ]추출 </center>

​<br />
<br />

[정답]

arr2[1,1:4]<br />

arr2[1,:][[1,2,3]]

​<br />
<br />

다음으로는 색인을 활용한 연산식을 만들어봅시다.

<br />

​​<center>문제 5</center>

​​<center>arr1에서 첫번째 컬럼값을 추출, <br /> 각 컬럼마다 값을 더해 출력</center>

<br />
<br />

[정답]

<br />

arr3 + arr3[:,0:1]

</details>

<p><br /></p>
<hr />

<h3 id="transpose">Transpose</h3>

<p>다음으로는 배열의 행과 열 순서를 바꿔 주는 <code class="highlighter-rouge">전치 메서드(transpose)</code>라는 메서드입니다. 예를 들어, (2x3)의 배열을 (3x2)로 바꾸면</p>

<p><br /></p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{bmatrix}1 & 2 & 3 \\ 4 & 5 & 6\end{bmatrix} %]]></script>

<p>를</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{bmatrix}1 & 4 \\2 & 5\\3 & 6\end{bmatrix} %]]></script>

<p>로 바꾸는 것을 의미합니다.</p>

<p>1. T : 행열을 서로 바꿉니다.</p>

<p>2. transpose : 괄호 안에 <code class="highlighter-rouge">모든 축</code>의 번호를 원하는 위치에 전달하면 축끼리 이동시킵니다., 축번호 전달 순서 중요합니다.</p>

<p>3. swapaxes : 괄호 안에 <code class="highlighter-rouge">2개의 축</code> 번호를 전달하면, 원하는 두 축의 전치를 수행하기 때문에 축 번호 전달 순서는 중요하지 않습니다.</p>

<table>
  <thead>
    <tr>
      <th>입력</th>
      <th>출력 형태</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>arr1<br />arr1.transpose(0,1)</td>
      <td>array([[1, 2, 3],<br />         [4, 5, 6],<br />         [7, 8, 9]])</td>
    </tr>
    <tr>
      <td>arr1.T<br />arr1.transpose(1,0)<br />arr1.swapaxes(0,1)<br />arr1.swapaxes(1,0)</td>
      <td>array([[1, 4, 7],<br />         [2, 5, 8],<br />         [3, 6, 9]])</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<hr />

<h3 id="asarray">asarray</h3>

<ul>
  <li>
    <p>array로의 형 변환 함수입니다.</p>
  </li>
  <li>
    <p>array와 달리 기본적으로 얕은 복사(shallow copy) 수행합니다.</p>
  </li>
</ul>

<p>예시) L1 = [1,2,3,4]</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>출력 값</th>
      <th>arr1[0] = 10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>arr1 = np.array(L1)</td>
      <td>[1 2 3 4]</td>
      <td>[10 2 3 4]</td>
    </tr>
    <tr>
      <td>arr2 = np.array(arr1)<br /><em>(= arr1.copy())</em></td>
      <td>[1. 2. 3. 4.]</td>
      <td>[1. 2. 3. 4.]</td>
    </tr>
    <tr>
      <td>arr3 = np.asarray(arr1)</td>
      <td>[1. 2. 3. 4.]</td>
      <td>[10. 2. 3. 4.]</td>
    </tr>
    <tr>
      <td>arr3 = np.asarray(<br />arr1, <strong>dtype = ‘float’</strong>)</td>
      <td>[1. 2. 3. 4.]</td>
      <td>[<strong>1</strong>. 2. 3. 4.]<br /><strong>형 변환이 이루어지는 경우에는 딥카피(deep copy)</strong></td>
    </tr>
  </tbody>
</table>

<p><br /></p>
<hr />

<h3 id="astype">astype</h3>

<ul>
  <li>형 변환 함수로 배열(array)내의 원소를 한꺼번에 형 변환이 가능합니다. (벡터 연산 가능)</li>
</ul>

<p><br />
​
예시 ) 다음의 배열의 타입을 실수로 변경</p>

<p>arr1 = np.array([1,2,3,4])</p>

<p><br /></p>

<p>1) 형변환 함수 사용 (벡터연산 불가)</p>

<p>list(map(lambda x : float(x), arr1)) - mapping이 필요</p>

<p><br /></p>

<p>2) 형변환 메소드 사용(벡터연산 가능)</p>

<p>arr1.astype(‘float’)</p>

<p><br /></p>
<hr />

<h3 id="산술연산-함수">산술연산 함수</h3>

<ul>
  <li>배열(array)에 대한 산술연산에 있어서는 함수랑 메서드 모두 지원합니다.</li>
</ul>

<p>​
예시) arr1 = np.arange(1,10).reshape(3,3)</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>메서드</th>
      <th>함수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>총합</td>
      <td>arr1.sum()</td>
      <td>np.sum(arr1)</td>
    </tr>
    <tr>
      <td>평균</td>
      <td>arr1.mean()</td>
      <td>np.mean(arr1)</td>
    </tr>
    <tr>
      <td>분산</td>
      <td>arr1.var()</td>
      <td>np.var(arr1)</td>
    </tr>
    <tr>
      <td>표준편차</td>
      <td>arr1.std()</td>
      <td>np.std(arr1)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<h4 id="누적-산술연산">누적 산술연산</h4>

<p>누적 산술연산은 행 혹은 열 방향으로 누적으로 산술연산을 진행하는 것을 말합니다.문법은 <code class="highlighter-rouge">배열.cumsum(axis = 축 번호)</code>인데 축 번호에 0을 입력하면 행 방향으로 연산이 진행되고 1을 입력하면 열 방향으로 연산이 진행됩니다. 덧셈과 곱셈만 가능합니다.</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>누적 합<br />(arr1.cumsum)</th>
      <th>누적 곱<br />(arr1.cumprod)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>행 별<br />(axis = 0)</td>
      <td>array([[ 1, 2, 3],<br />          [ 5, 7, 9],<br />          [12, 15, 18]], <br />          dtype=int32)</td>
      <td>array([[ 1, 2, 3],<br />          [ 4, 10, 18],<br />          [ 28, 80, 162]], <br />          dtype=int32)</td>
    </tr>
    <tr>
      <td>열 별<br />(axis = 1)</td>
      <td>array([[ 1, 3, 6],<br />          [ 4, 9, 15],<br />          [ 7, 15, 24]], <br />          dtype=int32)</td>
      <td>array([[ 1, 2, 6],<br />          [ 4, 20, 120],<br />          [ 7, 56, 504]], <br />          dtype=int32)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>
<hr />

<h2 id="최대-최소값">최대 최소값</h2>

<dl>
  <dt>arr1.max/min(축 번호)</dt>
  <dd>
    <p>축 별로 최댓값/최솟값을 출력한다</p>
  </dd>
</dl>

<p>​</p>

<dl>
  <dt>arr1.argmax/argmin(축 번호)</dt>
  <dd>
    <p>축 별로 최댓값/최솟값의 위치를 출력한다</p>
  </dd>
</dl>

<p><br /></p>
<hr />

<h2 id="조건-색인">조건 색인</h2>

<p><code class="highlighter-rouge">조건 색인(Boolean indexing)</code>은 조건에 맞는 데이터만 출력하는 것을 말합니다. 특정 값과 일치하는 데이터를 찾을 때 주의할 점이 있는데 연산자는 <code class="highlighter-rouge">=</code>가 아니라 <code class="highlighter-rouge">==</code> 입니다.</p>

<p>1. 논리 연산자 이용</p>

<figure class="highlight"><pre><code class="language-pythion" data-lang="pythion">#배열 내에서 5보다 큰 값 출력
arr1[arr1 &gt; 5]
Out : [6, 7, 8, 9]

#세번째 컬럼의 값이 6인 행 선택
arr1[arr1[:,2] == 6,:]


#세번째 컬럼의 값이 6이 아닌 행 선택(not 논리연산)
arr1[arr1[:,2] != 6,:]
arr1[~(arr1[:,2] == 6),:]</code></pre></figure>

<p>​
<br />​</p>

<p>2. np.where</p>

<p>numpy 모듈에 있는 where 함수는 조건의 벡터연산이 가능하게 하며 R의 ifelse 구문과 비슷한 기능을 합니다. 조건에 대한 단순리턴만 가능합니다.</p>

<p>문법 : <code class="highlighter-rouge">np.where( 조건 , TRUE 출력값, FALSE 출력값)</code></p>

<figure class="highlight"><pre><code class="language-pythion" data-lang="pythion">#배열 내에서 5보다 큰 경우 A를 그렇지 않으면 B를 출력
np.where(arr3 &gt; 5, 'A', 'B')</code></pre></figure>

<p>​
<br /></p>

<p>3. 불리언 배열 메서드 (boolean array method)</p>

<table>
  <thead>
    <tr>
      <th>입력</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>(arr2 &gt; 10).sum()</td>
      <td>조건에 만족하는 값의 개수</td>
    </tr>
    <tr>
      <td>(arr2 &gt; 10).any()</td>
      <td>하나라도 조건을 만족하는지 여부(T or F)</td>
    </tr>
    <tr>
      <td>(arr2 &gt; 10).all()</td>
      <td>모든 값이 조건을 만족하는지 여부(T or F)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="집합-연산자">집합 연산자</h2>

<p>집합 연산자는 각 배열끼리 집합 연산을 하는 기능을 가지고 있습니다.</p>

<ol>
  <li>
    <p>union1d : 합집합       / (A U B)</p>
  </li>
  <li>
    <p>intersect1d : 교집합   / (A ∩ B)</p>
  </li>
  <li>
    <p>setdiff1d : 차집합       / (A - B)</p>
  </li>
  <li>
    <p>in1d : 포함연산자</p>
  </li>
  <li>
    <p>setxor1d : 대칭차집합 / (A-B) U (B-A)</p>
  </li>
</ol>

<p>예)</p>

<p>arr1 = np.array([1,2,3,4])</p>

<p>arr2 = np.array([3,4,5,6])</p>

<table>
  <thead>
    <tr>
      <th>메서드</th>
      <th>출력 값</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>np.union1d(arr1,arr2)</td>
      <td>array([1, 2, 3, 4, 5, 6])</td>
    </tr>
    <tr>
      <td>np.intersect1d(arr1,arr2)</td>
      <td>array([3, 4])</td>
    </tr>
    <tr>
      <td>np.setdiff1d(arr1,arr2)</td>
      <td>array([1, 2])</td>
    </tr>
    <tr>
      <td>np.in1d(arr1,arr2)</td>
      <td>array([False, False, True, True])</td>
    </tr>
    <tr>
      <td>np.setxor1d(arr1,arr2)</td>
      <td>array([1, 2, 5, 6])</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<p>(+) np.unique(배열) : 모든 원소중에 중복을 제외하고 유일한 값들만 출력하는 함수입니다.</p>

<figure class="highlight"><pre><code class="language-pythion" data-lang="pythion">np.unique(np.array([1,1,1,2]))
Out : [1,2]</code></pre></figure>

<hr />

<h2 id="nan">NaN</h2>

<ul>
  <li>
    <p><code class="highlighter-rouge">NaN(Not a Number)</code>은 표현 불가능한 수치형 결과를 나타내는 값으로 자기 자신과도 일치하지 않습니다.</p>
  </li>
  <li>
    <p>R과 달리 Python에 기본으로 있지 않기 자료형이 아니기 때문에 NaN을 사용하기 위해서는 모듈 numpy를 불러와야 합니다.</p>
  </li>
  <li>
    <p>기본적으로 nan으로 출력되나 편의를 위해서 이 블로그에서는 NA를 Alias로 사용할 것입니다.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#nan을 NA로 Alias 설정
</span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">nan</span> <span class="k">as</span> <span class="n">NA</span>   </code></pre></figure>

<p>​</p>

<p>​</p>

<p>1. 원소를 NaN으로 수정</p>

<ul>
  <li>수치형 자료지만 float 형식에서만 사용할 수 있으며 정수로 된 자료 구조에서는 사용할 수 없습니다.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>

<span class="n">arr1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span> 
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>

  <span class="n">File</span> <span class="s">"&lt;ipython-input-5-eeac312552ee&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">arr1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span>

<span class="nb">ValueError</span><span class="p">:</span> <span class="n">cannot</span> <span class="n">convert</span> <span class="nb">float</span> <span class="n">NaN</span> <span class="n">to</span> <span class="n">integer</span></code></pre></figure>

<center>정수로 된 배열에 들어가지 않는 NaN</center>
<p>​</p>

<ul>
  <li>float으로 바꾸는 방법</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 1. map함수 이용
</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">arr1</span><span class="p">))</span>
<span class="c1"># 2. astype 이용
</span><span class="err">​</span><span class="n">arr1</span> <span class="o">=</span> <span class="n">arr1</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s">'float'</span><span class="p">)</span>

<span class="c1"># float 변경 이후 NA 입력
</span><span class="n">arr1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">NA</span> <span class="p">;</span> <span class="n">arr1</span>
<span class="n">Out</span> <span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="n">nan</span><span class="p">,</span>  <span class="mf">2.</span><span class="p">,</span>  <span class="mf">3.</span><span class="p">,</span>  <span class="mf">4.</span><span class="p">])</span></code></pre></figure>

<p>​
<br /></p>

<p>2. NA 있는지 확인(벡터 연산 가능)</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">NA</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">Out</span> <span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">])</span></code></pre></figure>

<hr />

<p><br /></p>

<p>여기까지는 모듈 <code class="highlighter-rouge">numpy</code>, 자료 구조 <code class="highlighter-rouge">배열(array)</code> 그리고 <code class="highlighter-rouge">NaN</code>에 대해 다뤄보았습니다. 다음 포스트에는 모듈 <code class="highlighter-rouge">pandas</code>와 자료 구조 <code class="highlighter-rouge">시리즈(Series)</code>와 <code class="highlighter-rouge">데이터프레임(DataFrame)</code>에 대해 다뤄보도록 하겠습니다.​</p>

</article>

<a href="#top">맨 위로</a>





<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=numpy&url=http%3A%2F%2Flocalhost%3A4000%2Fpython%2F2020%2F09%2F21%2Fpython-5.html&via="
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
    
  
    
    
    
      <a href="//www.facebook.com/sharer.php?t=numpy&u=http%3A%2F%2Flocalhost%3A4000%2Fpython%2F2020%2F09%2F21%2Fpython-5.html"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
        <i class="fa fa-facebook-square fa-lg"></i>
      </a>
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
      <a href="//www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fpython%2F2020%2F09%2F21%2Fpython-5.html"
        onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
    
    
    
    
  
    
    
    
    
      <a href="//plus.google.com/share?title=numpy&url=http%3A%2F%2Flocalhost%3A4000%2Fpython%2F2020%2F09%2F21%2Fpython-5.html"
        onclick="window.open(this.href, 'google-plus-share', 'width=550,height=255');return false;">
        <i class="fa fa-google-plus-square fa-lg"></i>
      </a>
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
      <a href="//www.pinterest.com/pin/create/button/?description=numpy&url=http%3A%2F%2Flocalhost%3A4000%2Fpython%2F2020%2F09%2F21%2Fpython-5.html&media=http://localhost:4000/assets/header_image.jpg"
        onclick="window.open(this.href, 'pinterest-share', 'width=550,height=255');return false;">
        <i class="fa fa-pinterest-square fa-lg"></i>
      </a>
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
      <a href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent('http://localhost:4000/python/2020/09/21/python-5.html') + '&title=numpy'; return false">
        <i class="fa fa-reddit-square fa-lg"></i>
      </a>
    
    
  
    
    
    
    
    
    
    
    
  
</section>




</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">RWDR</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
				
	
	<li class="nav-link"><a href="/about/">About</a>
	

	

	

	
	<li class="nav-link"><a href="/posts/">Posts</a>
	

	

	
	<li class="nav-link"><a href="/search/">Search</a>
	

	
	<li class="nav-link"><a href="/typography/">Plan</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	


      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:enne123@naver.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">enne123@naver.com</span>
          </a>
        </li>

        
          
        
          
        
          
          <li>
            <a href="https://github.com/Ring-wdr" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">Ring-wdr</span>
            </a>
          </li>
          
        
          
        
          
        
          
        
          
          <li>
            <a href="https://www.instagram.com/kim.manjoong" title="Follow me on Instagram">
              <i class="fa fa-instagram"></i>
              <span class="username">kim.manjoong</span>
            </a>
          </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">A simple blog.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"></script>
<script src="//unpkg.com/popper.js@1"></script>
<script src="//unpkg.com/tippy.js@5"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });

	// Enable tooltips via Tippy.js
	if (Array.isArray(window.tooltips)) {
		window.tooltips.forEach(function(tooltip) {
			var selector = tooltip[0];
			var config = tooltip[1];
			tippy(selector, config);
		})
	}
});

</script>






  </body>

</html>
